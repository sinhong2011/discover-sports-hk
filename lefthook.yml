# Lefthook configuration for App Name
# https://github.com/evilmartians/lefthook

# Global settings
colors: true
no_tty: false

# Pre-commit hooks
pre-commit:
  parallel: true
  commands:
    # Format code with Biome
    format:
      glob: "*.{js,jsx,ts,tsx,json,css}"
      run: bun x biome format --write {staged_files}
      stage_fixed: true

    # Lint code with Biome
    lint:
      glob: "*.{js,jsx,ts,tsx}"
      run: bun x biome lint --write {staged_files}
      stage_fixed: true

    # Check code with Biome (combines linting and formatting checks)
    check:
      glob: "*.{js,jsx,ts,tsx,json,css}"
      run: bun x biome check --write {staged_files}
      stage_fixed: true

# Pre-push hooks
pre-push:
  commands:
    # Run full Biome check on all files before pushing
    biome-check-all:
      run: bun x biome check .

    # Type check with TypeScript
    type-check:
      run: bun x tsc --noEmit

# Commit message hooks
commit-msg:
  commands:
    # Validate commit message format (optional)
    # You can customize this based on your team's conventions
    commitlint:
      run: bun x commitlint --edit {1}

# Skip hooks for specific scenarios
skip_output:
  - meta
  - summary
